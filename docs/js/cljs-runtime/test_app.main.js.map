{"version":3,"sources":["test_app/main.cljs"],"mappings":"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","names":["js/test-app","js/test-app.main","js/test-app.main.app-state","test-app.main/app-state","reagent.core.atom","data.SE-1/data","data.SE-2/data","data.SE-3/data","data.SE-4/data","js/test-app.main.root","test-app.main/root","cljs.core.atom","test-app.main/geojson-style","layer-index","feature","colors","cljs.core/clj->js","cljs.core.get","test-app.main/on-each-feature","layer","props","popup-content","cljs.core/reduce-kv","acc","k","v","cljs.core/name","cljs.core.js__GT_clj","test-app.main/loading-spinner","test-app.main/error-message","error","test-app.main/map-component","js/module$node_modules$react_leaflet$lib$index.MapContainer","cljs.core/deref","js/module$node_modules$react_leaflet$lib$index.TileLayer","iter__5503__auto__","s__28615","cljs.core/LazySeq","temp__5825__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5501__auto__","size__5502__auto__","cljs.core/count","b__28617","cljs.core/chunk-buffer","i__28616","vec__28618","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__28614","cljs.core/chunk-rest","vec__28621","cljs.core/first","cljs.core/cons","cljs.core/rest","idx","geojson","cljs.core.map_indexed","cljs.core/vector","js/module$node_modules$react_leaflet$lib$index.GeoJSON","js/module$node_modules$react_leaflet$lib$index.Marker","js/module$node_modules$react_leaflet$lib$index.Popup","test-app.main/app","test-app.main/mount-root","root-el","js/document","cljs.core/reset!","reagent.dom.client.create_root","reagent.dom.client.render","test-app.main/init","cljs.core.println","cljs.core/chunk-first"],"sourcesContent":["(ns test-app.main\n (:require [reagent.core :as r]\n            [reagent.dom.client :as rdomc]\n            [\"react\" :as react]\n            [\"react-leaflet\" :refer [MapContainer TileLayer Marker Popup GeoJSON]]\n            [\"leaflet\" :as L]\n            [data.SE-1 :as SE-1]\n            [data.SE-2 :as SE-2]\n            [data.SE-3 :as SE-3]\n            [data.SE-4 :as SE-4]))\n\n;; App state\n(defonce app-state (r/atom {:center [59.3293 18.0686]\n                             :zoom 5\n                             :geojson-layers [SE-1/data\n                                              SE-2/data\n                                              SE-3/data\n                                              SE-4/data]}))\n\n;; Root element for React 19\n(defonce root (atom nil))\n\n(defn geojson-style [layer-index]\n  (fn [feature]\n    (let [colors [\"#3388ff\" \"#ff6b6b\" \"#4ecdc4\" \"#ffe66d\"]]\n      (clj->js {:fillColor (get colors layer-index \"#3388ff\")\n                :weight 2\n                :opacity 1\n                :color \"white\"\n                :dashArray \"3\"\n                :fillOpacity 0.4}))))\n\n;; Function called when a feature is clicked\n(defn on-each-feature [feature layer]\n  (let [props (.-properties feature)\n        popup-content (str \"<div>\"\n                          (reduce-kv (fn [acc k v]\n                                      (str acc \"<strong>\" (name k) \":</strong> \" v \"<br/>\"))\n                                    \"\"\n                                    (js->clj props :keywordize-keys true))\n                          \"</div>\")]\n    (.bindPopup layer popup-content)))\n\n;; Loading spinner component\n(defn loading-spinner []\n  [:div.loading\n   [:div.spinner]\n   [:p \"Loading GeoJSON data...\"]])\n\n;; Error component\n(defn error-message [error]\n  [:div.error\n   [:h3 \"Error Loading Data\"]\n   [:p error]])\n\n;; Map component\n(defn map-component []\n  [:div.map-container\n   {:style {:display \"flex\"\n            :align-items \"center\"\n            :justify-content \"center\"}}\n   [:> MapContainer \n    {:center (clj->js (:center @app-state))\n     :zoom (:zoom @app-state)\n     :style {:height \"80vh\" :width \"60vw\"}}\n    [:> TileLayer\n     {:attribution \"&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      :url \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}]\n    \n    ;; Render each GeoJSON layer\n    (for [[idx geojson] (map-indexed vector (:geojson-layers @app-state))]\n      ^{:key idx}\n      [:> GeoJSON\n       {:data (clj->js geojson)\n        :style (geojson-style idx)\n        :onEachFeature on-each-feature}])\n    \n    [:> Marker\n     {:position (clj->js (:center @app-state))}\n     [:> Popup\n      \"Center marker!\"]]]])\n\n;; Main app\n(defn app []\n  [:div.app\n   [:header\n    [:h1 \"React-Leaflet ClojureScript App\"]\n    [:p \"Map with multiple GeoJSON layers\"]]\n   (cond\n     (:loading @app-state) [loading-spinner]\n     (:error @app-state) [error-message (:error @app-state)]\n     :else [map-component])])\n\n;; Initialize app with React 19 createRoot API\n(defn mount-root []\n  (let [root-el (.getElementById js/document \"app\")]\n    (when-not @root\n      (reset! root (rdomc/create-root root-el)))\n    (rdomc/render @root [app])))\n\n(defn ^:export init []\n  (println \"Initializing app...\")\n  (mount-root))\n"]}